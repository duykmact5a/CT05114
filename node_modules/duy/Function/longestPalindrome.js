function palindrome(string){
    var newString = rotate(string);
    return newString == string;
}
function rotate(theString){
    var output="",i=theString.length-1;
    while (i>=0){
        output+=theString.charAt(i);
        i--;
    }
    return output;
}
function substring(string){
    var output= "";
    string=string.replace(" ","");
    for (i=0;i<string.length;i++){
        for (j=i+1;j<string.length+1;j++){
            if (string.substring(i,j)==string.charAt(string.length-1)) output+=string.substring(i,j)+'.';
            else output+=string.substring(i,j)+', ';
        }
    }
    return output;
}
function longestPalindrome(string){
    var listString=substring(string).split(", "),listPal=[],stringLen=[];
    for (var i=0;i<listString.length;i++){
        if(palindrome(listString[i])) listPal.push(listString[i]);
    }
    for (var j=0;j<listPal.length;j++){
        stringLen.push(listPal[j].length);
    }
    var max = stringLen.reduce(function(a, b) {
        return Math.max(a, b);
    });
    return listPal[stringLen.indexOf(max)];
}

console.log(longestPalindrome("abracadabraabalabalalalala"));